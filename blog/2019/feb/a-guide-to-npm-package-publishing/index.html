<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A guide on npm package publishing | Bruno Luiz Silva</title><meta name=keywords content><meta name=description content="If you are not new in the JavaScript world, you might have already heard about npm. It is a package manager which lets developers easily add dependencies to projects, as npm install hello-world. But, have you ever asked, How do I create and publish my own packages"><meta name=author content><link rel=canonical href=https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/><link crossorigin=anonymous href=/assets/css/stylesheet.1d044a8ae143a71443a33febc372f95f5ce9087d07078feec050ae02388800f5.css integrity="sha256-HQRKiuFDpxRDoz/rw3L5X1zpCH0HB4/uwFCuAjiIAPU=" rel="preload stylesheet" as=style><link rel=icon href=https://brunoluiz.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://brunoluiz.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://brunoluiz.net/favicon-32x32.png><link rel=apple-touch-icon href=https://brunoluiz.net/apple-touch-icon.png><link rel=mask-icon href=https://brunoluiz.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/"><meta property="og:site_name" content="Bruno Luiz Silva"><meta property="og:title" content="A guide on npm package publishing"><meta property="og:description" content="If you are not new in the JavaScript world, you might have already heard about npm. It is a package manager which lets developers easily add dependencies to projects, as npm install hello-world. But, have you ever asked, How do I create and publish my own packages"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2019-02-15T19:44:37+00:00"><meta property="article:modified_time" content="2019-02-15T19:44:37+00:00"><meta property="og:image" content="https://brunoluiz.net/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://brunoluiz.net/cover.jpg"><meta name=twitter:title content="A guide on npm package publishing"><meta name=twitter:description content="If you are not new in the JavaScript world, you might have already heard about npm. It is a package manager which lets developers easily add dependencies to projects, as npm install hello-world. But, have you ever asked, How do I create and publish my own packages"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://brunoluiz.net/blog/"},{"@type":"ListItem","position":2,"name":"A guide on npm package publishing","item":"https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A guide on npm package publishing","name":"A guide on npm package publishing","description":"If you are not new in the JavaScript world, you might have already heard about npm. It is a package manager which lets developers easily add dependencies to projects, as npm install hello-world. But, have you ever asked, How do I create and publish my own packages","keywords":[],"articleBody":"If you are not new in the JavaScript world, you might have already heard about npm. It is a package manager which lets developers easily add dependencies to projects, as npm install hello-world. But, have you ever asked, “How do I create and publish my own packages”?\nHow a package is composed? Packages are quite simple to create in JavaScript. A package.json and index.js can already do the job. Look at dedupe for example:\nThere are other useful files such as .gitignore, .npmignore, LICENSE and README.md, but the main ones are there: package.json and index.js. Having these, the package just needs to be published in a repository, such as the npm public. Through this guide, you will be able to have a simple package published on npm.\nCreate an npm package While doing apimock.in, I had to create multiple serverless stacks. Each had error handlers and, as most of the errors are quite the same, a good practice would be to extract these definitions into a package and just install it on each serverless stack. This use case will be used as an example through this post.\nCreate an npmjs.com account Before doing anything, an account on npmjs.com is required for publishing a package. This is the website for the npm public repository, used when npm install ... is executed.\nTo create an account, go to the npm signup page and fill up the form. After finishing the process, a test can be done using npm login and npm whoami. Has it output your username? Great! It is working!\nSome words about scopes Scopes are useful in many ways, although not strictly required to publish an npm package. Every user has its own scope, defined as the npm user name.\nAs only the developer/company can publish to its own scope, it is quite useful to indicate it is an official package. For example, one can publish a package called xyz-sdk, but another called xyz might already exist. How to know which to install? What if xyz mimics xyz-sdk, but with malicious code?\nEach npm user/organisation has their own scope, and only you can add packages in your scope. This means you don’t have to worry about someone taking your package name ahead of you. Thus it is also a good way to signal official packages for organisations. (from npm-scopes documentation)\nA scoped package would have an @account prefix. It would be published as @account/xyz-sdk, hence easily identifiable as from a specific developer. Besides, the developer doesn’t have to worry about name clashing, as the scope is account specific. It can be configured to point to a private repository as well, making it especially useful for companies.\nThere is more information about scopes here. Keep in mind it is a good practice to scope packages.\nCreate a simple structure In an empty folder, run npm init —-scope=@your-npm-user. This will setup a package.json and ask for some information, such as name, version, main entry file and author. The end result will be something like the following.\n{ \"name\": \"@brunoluiz/jsonapi-errors\", \"version\": \"1.0.0\", \"description\": \"JSONAPI Common Errors\", \"main\": \"index.js\", \"scripts\": { \"test\": \"jest\" }, \"author\": \"Bruno Luiz da Silva (http://brunoluiz.net/)\", \"license\": \"MIT\" } After having it initialised, is time to code something. Develop a basic implementation of it in the specified main file on npm init setup (usually index.js). If the package requires dependencies or there are files to be ignored on publishing, specify it on a .gitignore file (eg: node_modules).\nIt is suggested to add a LICENSE.md and a README.md, as other developers might use this package. Usually, MIT or ISC licenses are fine to open-source projects, but choosealicense.com can help on choosing another license.\nPublish the package The basic implementation is done and now is time to deploy it! On the first time, a npm publish --access=public is required. The access=public param is needed because scoped are restricted by default. On following publishings, a npm publish will do the job.\nCongratulations! You published your first package on npm. It should be available at https://npmjs.com/package/@your-npm-user/package-name and ready to be installed through npm install @your-npm-user/package-name.\nReleasing new versions After some iterations, the package might need new features and, therefore a new version. NPM packages use semantic versioning (SEMVER), but in a nutshell:\nMAJOR version when you make incompatible API changes,\nMINOR version when you add functionality in a backwards-compatible manner, and\nPATCH version when you make backwards-compatible bug fixes.\nIn the jsonapi-errors example, a minor version increment is required. To do this, a npm version minor can be used, where it will bump the package.json version and add a tagged git commit. Then, a npm publish will take care of pushing it (no need for access parameter now). The version tags can be checked using git log --decorate --oneline.\nb874866 (HEAD -\u003e master, tag: v0.2.0) 0.2.0 c5af2df chore: add new implementations b8571cc (tag: v0.1.0) 0.1.0 c5bf2ef chore: initial commit There are more information about the versioning process here.\nUsing in local projects through linking A simple way to test the new shiny package is through npm install. It will work as expected but, if a change is required, a new version has to be published and the project dependency has to be upgraded to use the new one.\nThis is unproductive, especially when a package is new and changes happen quite often. A way to solve it is through npm link: it creates a symbolic link inside the project node_modules folder, replacing the installed version with the local one.\nIn the module folder, run npm link, which will enable a global link for it. On the project folder, run npm link . If the module is modified, projects using it through a link will have the latest version of it.\nAfter testing, two steps are required to remove it. The first is running npm unlink --no-save , which removes the link from the project without touching package.json. The second is npm install, as the module is removed from node_modules after unlinking.\nRemoving the global link is not required, especially because it can be used later. If still needed, a npm unlink in the module folder will do it.\nAutomate publishing process using CircleCI If a package has many people collaborating to it, or the deploy process requires extra steps beside publishing it, an automated setup can improve the workflow. There are plenty of options, such as CircleCI, Travis and GitLab CI.\nOn CircleCI Blog there is an article explaining in details how to do it, where:\nOn feature branches, it will just run tests (eg: run tests on pull requests) On git v*.*.* tag pushes, it will run tests and then publish to the NPM repository — remembering, a git version tag is generated by npm version More configurations can be added, such as saving coverage reports to a bucket or triggering specific web hooks after the jobs (eg: Slack).\nSetup default npm init configs Starting a package with npm init is fine, but repeating the same information over and over can get quite boring. npm config can be used to setup some default configs:\nnpm config set init-author-name='Bruno Luiz da Silva' npm config set init-author-email='contact@brunoluiz.net' npm config set init-author-url='https://brunoluiz.net' npm config set init-license='MIT' These are saved at ~/.npmrc, together with other user configs.\n# ~/.npmrc init-author-name=Bruno Luiz da Silva init-author-email=contact@brunoluiz.net init-author-url=http://brunoluiz.net/ init-version=1.0.0 ... Now, a simple npm init -y can be used to create packages. It will not ask for user input, using the npm configs instead and @/ as the name.\nThere are many other configs available through it. Besides, projects can have their own specific configs and even environment variables can be used for it. Check the npm documentation for more details.\nWhere to go now? The steps shown in this article will cover most basic necessities on npm package publishing, but there are some specifics I haven’t covered in this article.\nPublish the package as TypeScript: this allows code typing, more robust codes and, in editors such as VS Code, it enables a batter IntelliSense. There is a quite complete article on ITNext. Publish it to a private repository: there are some small different configurations, as pointing the package scope to the private repository. Give a look in this npm article. ","wordCount":"1372","inLanguage":"en","image":"https://brunoluiz.net/cover.jpg","datePublished":"2019-02-15T19:44:37.121Z","dateModified":"2019-02-15T19:44:37.121Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/"},"publisher":{"@type":"Organization","name":"Bruno Luiz Silva","logo":{"@type":"ImageObject","url":"https://brunoluiz.net/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://brunoluiz.net/ accesskey=h title="Bruno Luiz Silva (Alt + H)">Bruno Luiz Silva</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">A guide on npm package publishing</h1><div class=post-meta><span title='2019-02-15 19:44:37.121 +0000 UTC'>February 15, 2019</span>&nbsp;·&nbsp;7 min</div></header><figure class=entry-cover><img loading=eager srcset='https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover_hu_f84970ccf4f8d63b.jpg 360w,https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover_hu_c1faf14b06385823.jpg 480w,https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover_hu_b05663491e0ca425.jpg 720w,https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover_hu_9e5d6711ebeab72b.jpg 1080w,https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover_hu_5dfde4f0ba42af28.jpg 1500w,https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover.jpg 1600w' src=https://brunoluiz.net/blog/2019/feb/a-guide-to-npm-package-publishing/cover.jpg sizes="(min-width: 768px) 720px, 100vw" width=1600 height=1024 alt="Photo by Paul Esch-Laurent on Unsplash"><figcaption>Photo by Paul Esch-Laurent on Unsplash</figcaption></figure><div class=post-content><p>If you are not new in the JavaScript world, you might have already heard about <a href=https://www.npmjs.com/>npm</a>. It is a package manager which lets developers easily add dependencies to projects, as <code>npm install hello-world</code>. But, have you ever asked, &ldquo;How do I create and publish my own packages&rdquo;?</p><h2 id=how-a-package-is-composed>How a package is composed?<a hidden class=anchor aria-hidden=true href=#how-a-package-is-composed>#</a></h2><p>Packages are quite simple to create in JavaScript. A <code>package.json</code> and <code>index.js</code> can already do the job. Look at <code>dedupe</code> for example:</p><p><img alt="dedupe repository" loading=lazy src=/blog/2019/feb/a-guide-to-npm-package-publishing/dedupe.png></p><p>There are other useful files such as <code>.gitignore</code>, <code>.npmignore</code>, <code>LICENSE</code> and <code>README.md</code>, but the main ones are there: <code>package.json</code> and <code>index.js</code>. Having these, the package just needs to be published in a repository, such as the <a href=https://www.npmjs.com/>npm public</a>. Through this guide, you will be able to have a simple package published on npm.</p><h2 id=create-an-npm-package>Create an npm package<a hidden class=anchor aria-hidden=true href=#create-an-npm-package>#</a></h2><p>While doing <a href=https://apimock.in>apimock.in</a>, I had to create multiple serverless stacks. Each had error handlers and, as most of the errors are quite the same, a good practice would be to extract these definitions into a package and just install it on each serverless stack. This use case will be used as an example through this post.</p><h3 id=create-an-npmjscom-account>Create an npmjs.com account<a hidden class=anchor aria-hidden=true href=#create-an-npmjscom-account>#</a></h3><p>Before doing anything, an account on <a href=https://npmjs.com>npmjs.com</a> is required for publishing a package. This is the website for the npm public repository, used when <code>npm install ...</code> is executed.</p><p>To create an account, go to the <a href=https://www.npmjs.com/signup>npm signup page</a> and fill up the form. After finishing the process, a test can be done using <code>npm login</code> and <code>npm whoami</code>. Has it output your username? Great! It is working!</p><h3 id=some-words-about-scopes>Some words about scopes<a hidden class=anchor aria-hidden=true href=#some-words-about-scopes>#</a></h3><p>Scopes are useful in many ways, although not strictly required to publish an npm package. Every user has its own scope, defined as the npm user name.</p><p>As only the developer/company can publish to its own scope, it is quite useful to indicate it is an official package. For example, one can publish a package called <code>xyz-sdk</code>, but another called <code>xyz</code> might already exist. How to know which to install? What if <code>xyz</code> mimics <code>xyz-sdk</code>, but with malicious code?</p><blockquote><p>Each npm user/organisation has their own scope, and only you can add packages in your scope. This means you don’t have to worry about someone taking your package name ahead of you. Thus it is also a good way to signal official packages for organisations. (<a href=https://docs.npmjs.com/misc/scope>from npm-scopes documentation</a>)</p></blockquote><p>A scoped package would have an <code>@account</code> prefix. It would be published as <code>@account/xyz-sdk</code>, hence easily identifiable as from a specific developer. Besides, the developer doesn&rsquo;t have to worry about name clashing, as the scope is account specific. It can be configured to point to a private repository as well, making it especially useful for companies.</p><p>There is <a href=https://docs.npmjs.com/misc/scope>more information about scopes here</a>. Keep in mind it is a good practice to scope packages.</p><h3 id=create-a-simple-structure>Create a simple structure<a hidden class=anchor aria-hidden=true href=#create-a-simple-structure>#</a></h3><p>In an empty folder, run <code>npm init —-scope=@your-npm-user</code>. This will setup a <code>package.json</code> and ask for some information, such as name, version, main entry file and author. The end result will be something like the following.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;@brunoluiz/jsonapi-errors&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;1.0.0&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;JSONAPI Common Errors&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;main&#34;</span>: <span style=color:#e6db74>&#34;index.js&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;test&#34;</span>: <span style=color:#e6db74>&#34;jest&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;author&#34;</span>: <span style=color:#e6db74>&#34;Bruno Luiz da Silva &lt;contact@brunoluiz.net&gt; (http://brunoluiz.net/)&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;license&#34;</span>: <span style=color:#e6db74>&#34;MIT&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>After having it initialised, is time to code something. Develop a basic implementation of it in the specified main file on <code>npm init</code> setup (usually <code>index.js</code>). If the package requires dependencies or there are files to be ignored on publishing, specify it on a <code>.gitignore</code> file (eg: <code>node_modules</code>).</p><p>It is suggested to add a <code>LICENSE.md</code> and a <code>README.md</code>, as other developers might use this package. Usually, MIT or ISC licenses are fine to open-source projects, but <a href=https://choosealicense.com/>choosealicense.com</a> can help on choosing another license.</p><h3 id=publish-the-package>Publish the package<a hidden class=anchor aria-hidden=true href=#publish-the-package>#</a></h3><p>The basic implementation is done and now is time to deploy it! On the first time, a <code>npm publish --access=public</code> is required. The <code>access=public</code> param is needed because scoped are <code>restricted</code> by default. On following publishings, a <code>npm publish</code> will do the job.</p><p>Congratulations! You published your first package on npm. It should be available at <code>https://npmjs.com/package/@your-npm-user/package-name</code> and ready to be installed through <code>npm install @your-npm-user/package-name</code>.</p><p><img alt="Published package" loading=lazy src=/blog/2019/feb/a-guide-to-npm-package-publishing/npm_published_module.png></p><h3 id=releasing-new-versions>Releasing new versions<a hidden class=anchor aria-hidden=true href=#releasing-new-versions>#</a></h3><p>After some iterations, the package might need new features and, therefore a new version. NPM packages use semantic versioning (<a href=https://semver.org/>SEMVER</a>), but in a nutshell:</p><blockquote><p>MAJOR version when you make incompatible API changes,</p><p>MINOR version when you add functionality in a backwards-compatible manner, and</p><p>PATCH version when you make backwards-compatible bug fixes.</p></blockquote><p>In the <code>jsonapi-errors</code> example, a minor version increment is required. To do this, a <code>npm version minor</code> can be used, where it will bump the <code>package.json</code> version and add a tagged git commit. Then, a <code>npm publish</code> will take care of pushing it (no need for <code>access</code> parameter now). The version tags can be checked using <code>git log --decorate --oneline</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>b874866 <span style=color:#f92672>(</span>HEAD -&gt; master, tag: v0.2.0<span style=color:#f92672>)</span> 0.2.0
</span></span><span style=display:flex><span>c5af2df chore: add new implementations
</span></span><span style=display:flex><span>b8571cc <span style=color:#f92672>(</span>tag: v0.1.0<span style=color:#f92672>)</span> 0.1.0
</span></span><span style=display:flex><span>c5bf2ef chore: initial commit
</span></span></code></pre></div><p>There are <a href=https://docs.npmjs.com/cli/version.html>more information about the versioning process here</a>.</p><h3 id=using-in-local-projects-through-linking>Using in local projects through linking<a hidden class=anchor aria-hidden=true href=#using-in-local-projects-through-linking>#</a></h3><p>A simple way to test the new shiny package is through <code>npm install</code>. It will work as expected but, if a change is required, a new version has to be published and the project dependency has to be upgraded to use the new one.</p><p>This is unproductive, especially when a package is new and changes happen quite often. A way to solve it is through <code>npm link</code>: it creates a symbolic link inside the project <code>node_modules</code> folder, replacing the installed version with the local one.</p><p>In the module folder, run <code>npm link</code>, which will enable a global link for it. On the project folder, run <code>npm link &lt;name></code>. If the module is modified, projects using it through a link will have the latest version of it.</p><p>After testing, two steps are required to remove it. The first is running <code>npm unlink --no-save &lt;name></code>, which removes the link from the project without touching <code>package.json</code>. The second is <code>npm install</code>, as the module is removed from <code>node_modules</code> after unlinking.</p><p>Removing the global link is not required, especially because it can be used later. If still needed, a <code>npm unlink</code> in the module folder will do it.</p><h2 id=automate-publishing-process-using-circleci>Automate publishing process using CircleCI<a hidden class=anchor aria-hidden=true href=#automate-publishing-process-using-circleci>#</a></h2><p>If a package has many people collaborating to it, or the deploy process requires extra steps beside publishing it, an automated setup can improve the workflow. There are plenty of options, such as CircleCI, Travis and GitLab CI.</p><p>On CircleCI Blog there is an <a href=https://circleci.com/blog/publishing-npm-packages-using-circleci-2-0/>article explaining in details how to do it</a>, where:</p><ol><li>On feature branches, it will just run tests (eg: run tests on pull requests)</li><li>On git <code>v*.*.*</code> tag pushes, it will run tests and then publish to the NPM repository — remembering, a git version tag is generated by <code>npm version</code></li></ol><p>More configurations can be added, such as saving coverage reports to a bucket or triggering specific web hooks after the jobs (eg: Slack).</p><h2 id=setup-default-npm-init-configs>Setup default npm init configs<a hidden class=anchor aria-hidden=true href=#setup-default-npm-init-configs>#</a></h2><p>Starting a package with <code>npm init</code> is fine, but repeating the same information over and over can get quite boring. <code>npm config</code> can be used to setup some default configs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>npm config set init-author-name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Bruno Luiz da Silva&#39;</span>
</span></span><span style=display:flex><span>npm config set init-author-email<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;contact@brunoluiz.net&#39;</span>
</span></span><span style=display:flex><span>npm config set init-author-url<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;https://brunoluiz.net&#39;</span>
</span></span><span style=display:flex><span>npm config set init-license<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;MIT&#39;</span>
</span></span></code></pre></div><p>These are saved at <code>~/.npmrc</code>, together with other user configs.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ~/.npmrc</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>init-author-name<span style=color:#f92672>=</span>Bruno Luiz da Silva
</span></span><span style=display:flex><span>init-author-email<span style=color:#f92672>=</span>contact@brunoluiz.net
</span></span><span style=display:flex><span>init-author-url<span style=color:#f92672>=</span>http://brunoluiz.net/
</span></span><span style=display:flex><span>init-version<span style=color:#f92672>=</span>1.0.0
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Now, a simple <code>npm init -y</code> can be used to create packages. It will not ask for user input, using the npm configs instead and <code>@&lt;scope>/&lt;folder-name></code> as the name.</p><p>There are many other configs available through it. Besides, projects can have their own specific configs and even environment variables can be used for it. Check <a href=https://docs.npmjs.com/misc/config>the npm documentation</a> for more details.</p><h2 id=where-to-go-now>Where to go now?<a hidden class=anchor aria-hidden=true href=#where-to-go-now>#</a></h2><p>The steps shown in this article will cover most basic necessities on npm package publishing, but there are some specifics I haven&rsquo;t covered in this article.</p><ol><li><strong>Publish the package as TypeScript:</strong> this allows code typing, more robust codes and, in editors such as VS Code, it enables a batter IntelliSense. <a href=https://itnext.io/step-by-step-building-and-publishing-an-npm-typescript-package-44fe7164964c>There is a quite complete article on
ITNext</a>.</li><li><strong>Publish it to a private repository:</strong> there are some small different configurations, as pointing the package scope to the private repository. <a href=https://docs.npmjs.com/creating-and-publishing-private-packages>Give a look in this npm article</a>.</li></ol></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://brunoluiz.net/blog/2019/mar/kubernetes-devops-productivity-hacks/><span class=title>« Prev</span><br><span>Kubernetes devops productivity hacks</span>
</a><a class=next href=https://brunoluiz.net/blog/2018/mar/a-tale-of-how-to-not-deploy-two-months-old-features/><span class=title>Next »</span><br><span>A Tale Of How To Not Deploy Two Months Old Features</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://brunoluiz.net/>Bruno Luiz Silva</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>