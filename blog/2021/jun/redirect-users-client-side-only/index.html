<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>The forgotten art of HTML redirects, without either HTTP 301 or JavaScript - Bruno Luiz Silva</title><meta name=description content="One of the first things API developers learn is HTTP codes. From these 3xx are special, as they redirect users from A to B. But what if I told you there is a way to do it without HTTP codes?"><meta name=author content><link rel=canonical href=https://brunoluiz.net/blog/2021/jun/redirect-users-client-side-only/><link href=https://brunoluiz.net/css/stylesheet.min.479df382e20c15ef754d9b2dbc0094ba0efd1852d5ae38da2dce805cd10a01bf.css integrity="sha256-R53zguIMFe91TZstvACUug79GFLVrjjaLc6AXNEKAb8=" rel="preload stylesheet" as=style><link rel=apple-touch-icon href=https://brunoluiz.net/apple-touch-icon.png><link rel=icon href=https://brunoluiz.net/favicon.ico><meta name=generator content="Hugo 0.75.1"><meta property="og:title" content="The forgotten art of HTML redirects, without either HTTP 301 or JavaScript"><meta property="og:description" content="One of the first things API developers learn is HTTP codes. From these 3xx are special, as they redirect users from A to B. But what if I told you there is a way to do it without HTTP codes?"><meta property="og:type" content="article"><meta property="og:url" content="https://brunoluiz.net/blog/2021/jun/redirect-users-client-side-only/"><meta property="og:image" content="https://brunoluiz.net/blog/2021/jun/redirect-users-client-side-only/cover.jpg"><meta property="article:published_time" content="2021-06-17T12:00:00+00:00"><meta property="article:modified_time" content="2021-06-17T12:00:00+00:00"><meta property="og:site_name" content="Bruno Luiz Silva"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://brunoluiz.net/blog/2021/jun/redirect-users-client-side-only/cover.jpg"><meta name=twitter:title content="The forgotten art of HTML redirects, without either HTTP 301 or JavaScript"><meta name=twitter:description content="One of the first things API developers learn is HTTP codes. From these 3xx are special, as they redirect users from A to B. But what if I told you there is a way to do it without HTTP codes?"><meta itemprop=name content="The forgotten art of HTML redirects, without either HTTP 301 or JavaScript"><meta itemprop=description content="One of the first things API developers learn is HTTP codes. From these 3xx are special, as they redirect users from A to B. But what if I told you there is a way to do it without HTTP codes?"><meta itemprop=datePublished content="2021-06-17T12:00:00+00:00"><meta itemprop=dateModified content="2021-06-17T12:00:00+00:00"><meta itemprop=wordCount content="857"><meta itemprop=image content="https://brunoluiz.net/blog/2021/jun/redirect-users-client-side-only/cover.jpg"><meta itemprop=keywords content></head><body class=single id=top><script>if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><header class=header><nav class=nav><p class=logo><a href=https://brunoluiz.net>Bruno Luiz Silva</a></p><ul class=menu id=menu onscroll=menu_on_scroll()></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>The forgotten art of HTML redirects, without either HTTP 301 or JavaScript</h1><div class=post-meta><time>June 17, 2021</time>&nbsp;·&nbsp;5 min</div></header><div class=post-content><p><img loading=lazy src=cover.jpg alt="Photo by Javier Allegue Barros on Unsplash"></p><p>One of the first things API developers learn is HTTP codes. Usually, people already saw some 404 around, but soon they learn about the uses of 2xx, 4xx and 5xx codes. Probably you, insidious reader, realised I jumped the 3xx series.</p><p>Most first time developers never hear about 3xx, but probably because most haven&rsquo;t gone through some scenario requiring it. There are many codes in this series, but the code of interest here is HTTP 301. If a developer wants to redirect users, returning 301 will indicate to the client that the resource was moved permanently to a new address (specified in the response).</p><p>HTTP 301 can be useful in many cases:</p><ul><li>Redirect URLs if there was a major URL change in a website (xyz.com/blog/2020/01/some-title to xyz.com/some-title).</li><li>Create redirect flows for auth (OAuth; redirect on user log-out).</li><li>Shorten URLs (redirect xyz.com/foo to foo.com).</li></ul><p>These can only be returned by HTTP servers. But, there are times you might not want to maintain an HTTP server. You might have a static generated website, where you want to redirect old URLs to new URLs (due to SEO), or just have shortened URLs together with your static website.</p><p>Instead of setting up and maintaining an HTTP server, or relying on some third party to set up the redirects for your static site (example: Netlify or Vercel redirect configs), you can use static (HTML) files instead.</p><p>One could use JavaScript to set <code>window.location=https://foo.bar</code>, but this might not work as some people are browsing with JavaScript disabled nowadays. The real answer lies on <code>&lt;meta http-equiv="refresh" /></code>.</p><p>It works as an HTTP redirect code, but it is done completely on the client-side. This feature was introduced back <a href=https://www.w3.org/TR/WCAG20-TECHS/H76.html>in Netscape 1.1, back in 1995</a> and <a href=https://ogp.me/>there is a bit more explanation on the W3C website</a>. It is still recommended to use HTTP redirects instead of this, but static websites might not have this choice sometimes (content hosted on Github Pages, for example).</p><p>To try it out, create an HTML file with the following code and then open it in the browser. The browser should load the file and redirect straight to the target URL.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
  &lt;<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>title</span>&gt;Bruno L. Silva - Twitter&lt;/<span style=color:#f92672>title</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;refresh&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0; url=https://twitter.com/brunoluiz&#34;</span> /&gt;
  &lt;/<span style=color:#f92672>head</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>As promised, this is plain HTML. But, creating files like this can get a bit annoying. Besides, if you host this file in Github Pages and share the link around, the metadata of the target URL will not be present (example: <code>&lt;title></code>, <a href=https://ogp.me/>OpenGraph</a> and <a href=https://developer.twitter.com/en/docs/twitter-for-websites/cards/guides/getting-started>Twitter Card</a> meta tags). This means Facebook, Twitter, messengers and others will not render a card with the target details, as in the images below.</p><p><img loading=lazy src=./meta-example.png alt></p><p>To avoid the manual work of copying metadata around and setting these files manually, I&rsquo;ve created a tool called <a href=https://github.com/brunoluiz/urlzap>URLZap</a>. Based on a YAML config, it creates HTML files with all the required metadata and the redirect HTML meta tag. There are details on how to use it, both through CLI or Github Actions, <a href=https://github.com/brunoluiz/urlzap>on the project&rsquo;s page</a>.</p><p>The YAML configuration and output files will looks like the snippets below.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e># Example configuration file to be used with: urlzap generate --config ./config.yaml</span>
<span style=color:#f92672>path</span>: <span style=color:#e6db74>&#39;./output&#39;</span>
<span style=color:#f92672>urls</span>:
  <span style=color:#f92672>github</span>: <span style=color:#ae81ff>https://github.com</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- Example output at ./output/github/index.html --&gt;</span>
<span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
	&lt;<span style=color:#f92672>head</span>&gt;
		&lt;<span style=color:#f92672>title</span>&gt;GitHub: Where the world builds software · GitHub&lt;/<span style=color:#f92672>title</span>&gt;
		&lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;canonical&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://github.com&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;robots&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;noindex&#34;</span>&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span> /&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;refresh&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0; url=https://github.com&#34;</span> /&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;description&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub is where over 65 million developers shape the future of software, together. Contribute to the open source community, manage your Git repositories, review code like a pro, track bugs and features, power your CI/CD and DevOps workflows, and secure code before you commit it.&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;fb:app_id&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1401488693436528&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;twitter:image:src&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://github.githubassets.com/images/modules/site/social-cards/github-social.png&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;twitter:site&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;@github&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;twitter:card&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;summary_large_image&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;twitter:title&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub: Where the world builds software&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;twitter:description&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub is where over 65 million developers shape the future of software, together. Contribute to the open source community, manage your Git repositories, review code like a pro, track bugs and feat...&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:image&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://github.githubassets.com/images/modules/site/social-cards/github-social.png&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:image:alt&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub is where over 65 million developers shape the future of software, together. Contribute to the open source community, manage your Git repositories, review code like a pro, track bugs and feat...&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:site_name&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:type&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;object&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:title&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub: Where the world builds software&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:url&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://github.com/&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:description&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GitHub is where over 65 million developers shape the future of software, together. Contribute to the open source community, manage your Git repositories, review code like a pro, track bugs and feat...&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:image:type&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/png&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:image:width&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1200&#34;</span>/&gt;
		&lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>property</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;og:image:height&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;620&#34;</span>/&gt;
	&lt;/<span style=color:#f92672>head</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>As mentioned on the W3C page, it is recommended that developers use HTTP 301 instead of this strategy. But there are some valid use cases in which you might end up using this strategy. With or without URLZap, anyone hosting websites statically should be able to have redirects without having to maintain or pay a web server. It can be hosted virtually anywhere, and all browsers support it.</p><p>And well, it is always interesting to find different ways to do things we take for granted 🙃</p><ul><li><a href=https://github.com/brunoluiz/urlzap>🔗 URLZap project page</a></li><li><a href=https://twitter.com/brunoluiz>💬 Reach me on Twitter @ brunoluiz</a></li></ul></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://brunoluiz.net>Bruno Luiz Silva</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo️️</a>️</span>
<span>&#183;</span>
<span>Theme️ <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top"><button class=top-link id=top-link type=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script src=https://brunoluiz.net/js/highlight.min.min.e7afc2928c0925d65c4732dfebe147014d91299a98e819e4b42f25c4fa68e91c.js integrity="sha256-56/CkowJJdZcRzLf6+FHAU2RKZqY6BnktC8lxPpo6Rw="></script><script>hljs.initHighlightingOnLoad();</script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"});});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script data-goatcounter=https://brunoluiz.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>